Here is the master implementation prompt you can give to Codex, your custom GPT, or any code-generation agent to build the entire job-hunt system you described ‚Äî including the new resume features, JD features, and the existing interview modules.

This is written in the same style as your Gold Standard Worker project conventions, and it is safe for direct execution by an agent.

‚∏ª

‚úÖ MASTER IMPLEMENTATION PROMPT ‚Äî Full Job-Hunt Platform

SYSTEM INSTRUCTION FOR AGENT:

You are updating a Cloudflare Workers / Vite SPA monorepo following the Gold Standard Worker Template.
The repository is named jh-api (or whichever workspace you‚Äôre in).

You must implement ALL backend + frontend functionality described.
Follow all architectural rules in AGENTS.md.

‚∏ª

üß© PRIMARY GOAL

Implement the complete job-hunt platform, including:

(A) Resume Ingestion + Tailoring

(B) Job Description Analysis

(C) Cover Letter Generation

(D) Skill Gap Engine

(E) Mock Interview System (Phase 0‚Äì2)

(F) Persistence + D1 Schema

(G) R2 Storage for Documents & Audio

(H) Vectorize (embeddings)

(I) SPA Frontend Pages (React + shadcn)

(J) OpenAPI docs + Type-safe client

(K) Playwright tests

This prompt describes everything you must build.

‚∏ª

=====================================

üìÅ PROJECT STRUCTURE (MANDATORY)

=====================================

/src/pages
   mock-interview.tsx
   interview-history.tsx
   analysis.tsx
   job-tailor.tsx
   cover-letter.tsx
   resume-upload.tsx
   job-history.tsx

/worker
   index.ts
   db/
      client.ts
      schema.ts
   modules/
      interview/
         index.ts
         service.ts
         prompts.ts
      resume/
         index.ts
         service.ts
         prompts.ts
      jobs/
         index.ts
         service.ts
         prompts.ts
      files/
         r2.ts
      vector/
         index.ts
      health/
         index.ts
         service.ts
      mcp/
         index.ts
         agent.ts
         middleware.ts
      utils/
         openapi.ts
         audio.ts
         id.ts

/wrangler.jsonc
/drizzle.config.ts
/tests/*

Follow the same conventions as the Gold Standard Worker repo in your workspace.

‚∏ª

=====================================

üóÉÔ∏è D1 SCHEMA (MANDATORY)

=====================================

Modify worker/db/schema.ts to include:

Resume tables

resumes
  id TEXT PK
  filename TEXT
  r2_key TEXT
  content_text TEXT
  parsed_json JSON
  created_at INTEGER

Job descriptions

job_descriptions
  id TEXT PK
  company TEXT
  role TEXT
  jd_text TEXT
  vectorize_id TEXT
  created_at INTEGER

Resume Tailoring

resume_tailorings
  id TEXT PK
  jd_id TEXT FK
  resume_id TEXT FK
  tailored_bullets_json JSON
  tailored_summary TEXT
  skills_match_report JSON
  created_at INTEGER

Cover letters

cover_letters
  id TEXT PK
  jd_id TEXT FK
  resume_id TEXT FK
  cover_letter_text TEXT
  created_at INTEGER

Interview tables (existing)

sessions, questions, answers, analysis, audio_metrics.

Provide relations() for ALL tables.

‚∏ª

=====================================

üß† MODULE DEFINITIONS

=====================================

1. Resume Module

Directory: worker/modules/resume/

Endpoints

POST /api/resume/ingest
POST /api/resume/tailor
POST /api/resume/cover-letter
GET  /api/resume/skills-gap/:sessionId

In service.ts implement:
	‚Ä¢	R2 upload of PDF/docx
	‚Ä¢	Extract text using Workers AI (text-embedding or document-parsing)
	‚Ä¢	Store parsed text + JSON summary in D1
	‚Ä¢	Build OpenAI Response prompts to:
	‚Ä¢	Extract achievements
	‚Ä¢	Rewrite bullets
	‚Ä¢	Generate a role-specific summary
	‚Ä¢	Quantify impact
	‚Ä¢	Produce job-aligned bullet alternatives

In prompts.ts implement:
	‚Ä¢	buildResumeTailoringPrompt()
	‚Ä¢	buildCoverLetterPrompt()
	‚Ä¢	buildSkillsGapPrompt()

‚∏ª

2. Job Description Module

Directory: worker/modules/jobs/

Endpoints

POST /api/jobs/analyze
POST /api/jobs/vectorize

Functionality:
	‚Ä¢	Parse JD into structured JSON:
	‚Ä¢	requirements
	‚Ä¢	preferred
	‚Ä¢	responsibilities
	‚Ä¢	competencies
	‚Ä¢	Generate a ‚ÄúJD Summary Card‚Äù
	‚Ä¢	Generate comparison with user resume
	‚Ä¢	Compute estimated interview readiness %
	‚Ä¢	Store JD into D1 + embed with Vectorize

‚∏ª

3. Interview Module (Phase 0‚Äì2)

Already scaffolded in your project but if missing:

Endpoints:

POST /api/interview/session/start
GET  /api/interview/session/:id/next-question
POST /api/interview/session/:id/answer
POST /api/interview/analysis
GET  /api/interview/sessions
GET  /api/interview/session/:id/results

Tools:
	‚Ä¢	Workers AI Whisper transcription
	‚Ä¢	OpenAI Responses for:
	‚Ä¢	Question generation
	‚Ä¢	Answer analysis
	‚Ä¢	STAR scoring
	‚Ä¢	Coaching notes

‚∏ª

4. Vector Module

Directory: worker/modules/vector/

Implement:
	‚Ä¢	Embedding generation (Workers AI)
	‚Ä¢	Insert embeddings into Vectorize
	‚Ä¢	Query for similarity
	‚Ä¢	Provide retrieveSimilarAnswers() and retrieveSimilarJDSections()

‚∏ª

5. Files / R2 Module

Directory: worker/modules/files/r2.ts

Implement:
	‚Ä¢	uploadResume()
	‚Ä¢	uploadAudio()
	‚Ä¢	downloadResume()
	‚Ä¢	Signed URLs (if needed)

‚∏ª

6. OpenAPI

Generate routes using:
	‚Ä¢	createRoute + .openapi()
	‚Ä¢	worker/utils/openapi.ts

Expose spec at:

GET /api/openapi


‚∏ª

7. Health Module

Extend your existing health checks to include:
	‚Ä¢	R2 availability
	‚Ä¢	D1 migrations check
	‚Ä¢	Workers AI availability
	‚Ä¢	Vectorize index existence
	‚Ä¢	OpenAI connectivity test

‚∏ª

=====================================

üé® FRONTEND PAGES (MANDATORY)

=====================================

In /src/pages create:

resume-upload.tsx

Upload ‚Üí preview ‚Üí parse ‚Üí save.

job-tailor.tsx
	‚Ä¢	Paste JD
	‚Ä¢	Choose resume
	‚Ä¢	Button: ‚ÄúAnalyze Fit‚Äù
	‚Ä¢	Show:
	‚Ä¢	JD summary
	‚Ä¢	skills match %
	‚Ä¢	missing skills
	‚Ä¢	new bullets
	‚Ä¢	tailored summary

cover-letter.tsx
	‚Ä¢	Pick JD + resume
	‚Ä¢	Render generated letter
	‚Ä¢	Alternate tones (dropdown)
	‚Ä¢	Export to PDF/MD

job-history.tsx
	‚Ä¢	List all JDs analyzed
	‚Ä¢	List all tailored resumes generated
	‚Ä¢	Download bundles

Use shadcn/ui components only.

‚∏ª

=====================================

üß™ TESTING REQUIREMENTS

=====================================

Create or expand:

tests/interview.spec.ts
tests/resume.spec.ts
tests/jobs.spec.ts
tests/history.spec.ts

Follow patterns in:
	‚Ä¢	tests/AGENTS.md
	‚Ä¢	docs/testing-instructions.md

Each endpoint must have:
	‚Ä¢	Navigation tests
	‚Ä¢	API tests
	‚Ä¢	Error state tests
	‚Ä¢	Mocked data tests

‚∏ª

=====================================

üî• AGENT EXECUTION INSTRUCTIONS

=====================================

You must now implement everything above.
	‚Ä¢	Follow Golden Rules
	‚Ä¢	Respect file boundaries
	‚Ä¢	Never write raw SQL
	‚Ä¢	Always create Zod schemas
	‚Ä¢	Every endpoint must be .openapi()
	‚Ä¢	Every module must have its own directory
	‚Ä¢	Never import frontend code from backend or vice versa
	‚Ä¢	Use only shadcn/ui components in the frontend
	‚Ä¢	Deliver fully-working code with types

When ready, generate:
	‚Ä¢	All new files
	‚Ä¢	All modified files
	‚Ä¢	A migration diff
	‚Ä¢	Instructions for updating wrangler.jsonc
	‚Ä¢	A summary of system changes

This completes the full job-hunt system foundation.

‚∏ª

If you want, I can also generate:

üì¶ A full ZIP for this entire build
üß™ Playwright test scaffolds
üåê OpenAPI JSON + YAML schemata
üîê Secrets bindings block for wrangler.jsonc

Just tell me:

üëâ ‚ÄúGenerate the ZIP‚Äù
